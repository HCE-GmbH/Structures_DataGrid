<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE package SYSTEM "http://pear.php.net/dtd/package-1.0">
<package version="1.0">
  <name>Structures_DataGrid</name>
  <summary>A tabular structure that contains a record set of data for paging and sorting purposes.</summary>
  <description>
    This package offers a toolkit to render out a datagrid in HTML format as well as
    many other formats such as an XML Document, an Excel Spreadsheet, an XUL Document and more.
    It also offers paging and sorting functionallity to limit the data that is presented and processed.
    This concept is based on the .NET Framework DataGrid control and works very well with database and XML result sets.
  </description>
  <maintainers>
    <maintainer>
      <user>asnagy</user>
      <name>Andrew S. Nagy</name>
      <email>asnagy@webitecture.org</email>
      <role>lead</role>
    </maintainer>
    <maintainer>
      <user>olivierg</user>
      <name>Olivier Guilyardi</name>
      <email>olivier@samalyse.com</email>
      <role>developer</role>
    </maintainer>
    <maintainer>
      <user>wiesemann</user>
      <name>Mark Wiesemann</name>
      <email>wiesemann@php.net</email>
      <role>developer</role>
    </maintainer>
  </maintainers>
  <release>
    <version>0.7.0</version>
    <date>?</date>
    <license>PHP License</license>
    <state>beta</state>
    <notes>
      ##########################################################################
      #                 WARNING - BACKWARDS INCOMPATIBILITIES                  #
      #                                                                        #
      # The Structures_DataGrid::renderer property is not public anymore. It   #
      # is now required to use the Structures_DataGrid::getRenderer() method   #
      # in order to access the renderer object.                                #
      #                                                                        #
      # Adding or removing single records via Structures_DataGrid::addRecord() #
      # and Structures_DataGrid::dropRecord() isn't possible anymore.          #
      ##########################################################################

      BUGS:

      - bug #4415: example files were installed in the package directory, now they
        will be installed into [PEAR-DOC-DIR]/Structures_DataGrid/docs/examples/
      - bug #5858: removed @ before include() in DataSource.php (could crash silently)           
      - bug #6624: column formatters using class names didn't handle parameters and
        class methods at the same time

      FEATURE REQUESTS:

      - request #5758: new parameters for Structures_DataGrid_Column::formatter()
        callback: 'fieldName', 'columnName', 'orderBy', 'attribs'
      - request #6621: new method getColumnByName() that returns a reference to
        a column object
      - request #5859: the rendering layer has gone through a long refactoring
        process and a new and flexible renderer driver interface has been
        implemented

      OTHER FIXES AND CHANGES:

      - all DataSource and Renderer drivers have been unbundled
      - new DataSource drivers: DBTable, DBQuery and MDB2
      - query building:
        The query building process has been optimized, and is now more
        flexible due to the use of http_build_query(). This adds a 
        new dependency: PHP_Compat >= 1.4.1.
      - custom rendering containers:
        The containers that rendering drivers use to do their job, such as 
        HTML_Table, Spreadsheet_Excel_Writer, etc. can now be instantiated
        and customized by the user. They are then passed to the rendering
        driver with new methods such as Structures_DataGrid::fill() or 
        Structures_DataGrid_Renderer_*::setContainer().
      - new fill() method:
        This method is meant to be to renderers what bind() is to datasources.
        It accepts a "rendering container" object (where bind() accepts a 
        "datasource container") which it fills with data. No data is output
        during this process. It is up to the user to decide what to do with 
        the container once it's been filled up.
      - sortable and unsortable fields:
        Better support for the $orderBy parameter of the column constructor:
        if it is null, then the corresponding column is considered unsortable,
        which is taken into account by various renderer drivers (HTMLTable, XUL, 
        etc.)
    </notes>
    <deps>
      <dep type="php" rel="ge" version="4.1"/>
      <dep type="pkg" rel="ge" version="1.2" optional="no">PEAR</dep>

      <!-- The following PHP_Compat dependency is actually only required -->
      <!-- when using HTMLTable. It is safer to set it as non-optional   -->
      <!-- until we upgrade to package.xml version 2                     -->
      <dep type="pkg" rel="ge" version="1.4.1" optional="no">PHP_Compat</dep> 
     
      <!-- DataSource drivers -->
      <dep type="pkg" rel="ge" version="0.1.0" optional="no">Structures_DataGrid_DataSource_Array</dep> 
      <dep type="pkg" rel="ge" version="0.1.0" optional="no">Structures_DataGrid_DataSource_DB</dep> 
      <dep type="pkg" rel="ge" version="0.1.0" optional="no">Structures_DataGrid_DataSource_MDB2</dep> 
      <dep type="pkg" rel="ge" version="0.1.0" optional="no">Structures_DataGrid_DataSource_DBDataObject</dep> 
      <dep type="pkg" rel="ge" version="0.1.0" optional="no">Structures_DataGrid_DataSource_DBQuery</dep> 
      <dep type="pkg" rel="ge" version="0.1.0" optional="no">Structures_DataGrid_DataSource_DBTable</dep> 
      <dep type="pkg" rel="ge" version="0.1.0" optional="yes">Structures_DataGrid_DataSource_CSV</dep> 
      <dep type="pkg" rel="ge" version="0.1.0" optional="yes">Structures_DataGrid_DataSource_RSS</dep> 
      <dep type="pkg" rel="ge" version="0.1.0" optional="yes">Structures_DataGrid_DataSource_XML</dep> 
      
      <!-- Rendering drivers -->
      <dep type="pkg" rel="ge" version="0.1.0" optional="no">Structures_DataGrid_Renderer_HTMLTable</dep> 
      <dep type="pkg" rel="ge" version="0.1.0" optional="no">Structures_DataGrid_Renderer_Pager</dep> 
      <dep type="pkg" rel="ge" version="0.1.0" optional="yes">Structures_DataGrid_Renderer_XLS</dep> 
      <dep type="pkg" rel="ge" version="0.1.0" optional="yes">Structures_DataGrid_Renderer_XUL</dep> 
      <dep type="pkg" rel="ge" version="0.1.0" optional="yes">Structures_DataGrid_Renderer_XML</dep> 
      <dep type="pkg" rel="ge" version="0.1.0" optional="yes">Structures_DataGrid_Renderer_Smarty</dep> 
      <dep type="pkg" rel="ge" version="0.1.0" optional="yes">Structures_DataGrid_Renderer_Console</dep> 
      <dep type="pkg" rel="ge" version="0.1.0" optional="yes">Structures_DataGrid_Renderer_CSV</dep> 
    </deps>
    <filelist>
      <dir name="/" baseinstalldir="Structures" role="php">
        <file role="php" baseinstalldir="Structures" name="DataGrid.php"/>
        <dir name="DataGrid" role="php">
          <file role="php" name="Column.php"/>
          <file role="php" name="Renderer.php"/>
          <file role="php" name="DataSource.php"/>
        </dir>
      </dir>
      <dir name="docs" role="doc">
        <dir name="examples" role="doc">
          <file role="doc" name="example.php"/>
          <file role="doc" name="example-xml.php"/>
          <file role="doc" name="example-xls.php"/>
          <file role="doc" name="example-xul.php"/>
          <file role="doc" name="example-smarty.php"/>
        </dir>
      </dir>
    </filelist>
  </release>
  <changelog>
    <release>
      <version>0.6.3</version>
      <date>2005-10-25</date>
      <license>PHP License</license>
      <state>beta</state>
      <notes>
        * Bug #3304 : fixed the requestPrefix handling. 
                      thanks &lt;pm at phpshop dot org&gt;
        * Bug #3306 : addColumn() is now compatible with bind()
                      thanks E. Grace &lt;ej.grace at imperial dot ac dot uk&gt;
        * Bug #3588 : Handle quotes in CSV renderer correctly 
                      thanks &lt;justinpatrin at php dot net&gt;
        * Bug #3601 : Wrapped HTML output with htmlentities() 
                      thanks &lt;maarten at xolphin dot nl&gt;
        * Bug #3607 : Fixed fatal error when binding to a null data set 
                      thanks &lt;nick at foobar dot org&gt;
        * Bug #3617 : Fixed warning message when sorting with Array data source
                      thanks &lt;rafal at friendlysol dot com&gt;
        * Bug #3715 : Fixed notice message with column formatter
                      thanks &lt;maarten at xolphin dot nl&gt;
        * Bug #3769 : Fixed calling DataObject getters as a function instead of a property
                      thanks &lt;listsdg at yahoo dot fr&gt;
        * Bug #3781 : Fixed incorrect require_once path on CSV datasource
                      thanks &lt;pear at felixdd dot de&gt;
        * Bug #3847 : Fixed warning raised when the recordset is null
                      thanks &lt;justinpatrin at php dot net&gt;
        * Bug #3859 : Fixed useHeader method in HTML_Table renderer
                      thanks &lt;daniel at assertio dot es&gt;
        * Bug #4022 : Fixed issue with including record variable in column formatter when parameters are defined
                      thanks &lt;justinpatrin at php dot net&gt;
        * Bug #4350 : Fixed XML renderer constructor
                      thanks &lt;tier at gregor-widuch dot de&gt;
        * Bug #4375 : new method to customize generated links: 
                      HTMLTable::setExtraVars()
                      thanks &lt;keith at setuplinux dot com&gt;
        * Bug #4403 : Fixed sorting for non-datasource recordsets.
                      thanks &lt;jessup at mrpath dot com&gt;
        * Bug #4416 : Added 4 new methods to allow for retrieving of current display status of the DataGrid:
                      SDG::getPageCount()
                      SDG::getRecordCount()
                      SDG::getCurrentRecordNumberStart()
                      SDG::getCurrentRecordNumberEnd()
                      thanks &lt;post at mark-wiesemann dot de&gt;
        * Bug #4421 : Fixed error on DataObject data source with FormBuilder Integration
                      thanks &lt;justinpatrin at php dot net&gt;
        * Bug #4503 : Fixed error with sorting in Array DataSource
                      thanks &lt;justinpatrin at php dot net&gt;
        * Bug #4521 : Fixed the perpage limit with HTMLTable renderer to show all records instead of the default 10
                      thanks &lt;wiesemann at php dot net&gt;
        * Bug #4527 : Fixed allowEmptyRows() method in HTMLTable renderer to display correct number of rows
                      thanks &lt;wiesemann at php dot net&gt;
        * Bug #4557 : Fixed 1st row overwriting header row in XLS renderer
                      thanks &lt;wiesemann at php dot net&gt;
        * Bug #4558 : Modified render output for XLS renderer to allow saving to the local file system
                      thanks &lt;wiesemann at php dot net&gt;
        * Bug #4863 : Fixed notice in CSV renderer about the not intialized variable
                      thanks &lt;info at borki dot ch&gt;
        * Bug #4872 : fixed a notice when using formatters
                      thanks &lt;pupeno at pupeno dot com&gt;                       
        * Bug #4874 : Fixed the name of the getter call in DataObject datasource
                      thanks &lt;evt at infoware dot com dot au&gt;
        * Bug #5255 : missing dependencies caused a silent bug
                      thanks &lt;blcdhq at gmail dot com&gt;
        * Bug #5292 : fixed HTMLTable header parsing and generation 
        * Bug #5300 : Fixed notice on column formatter
                      thanks &lt;kick_tisho at yahoo dot com&gt;
        * Bug #5327 : Can now define a custom lineBreak in CSV renderer.  Also removed extra white space between each element.
                      thanks &lt;post at mark-wiesemann dot de&gt; and &lt;pnovess at mac dot com&gt;
        * Bug #5535 : Fixed XLS and XUL renderers due to bad check for null
                      thanks Aaron Wormus
      
        * The $type argument of the bind() method was not usable because 
          DATAGRID_SOURCE_* constants were defined in the wrong place : fixed
        * Fixed some undefined variable notices in the XLS renderer, for empty 
          data rows (related to bug #5535)
        * The CSV datasource did not correctly strip DOS'ish carriage returns: 
          fixed  
      </notes>
    </release>
    <release>
      <version>0.6.2</version>
      <date>2005-01-26</date>
      <license>PHP License</license>
      <state>beta</state>
      <notes>
        Fixed parse error
      </notes>
    </release>
    <release>
      <version>0.6.1</version>
      <date>2005-01-26</date>
      <license>PHP License</license>
      <state>beta</state>
      <notes>
        This release contains many bug fixes, please continue to test and submit
        bug reports.
      
        * Bug #3028: XUL Renderer now converts XML entities in column headers
        * The requestPrefix value is now used in the automatic handeling of sorting paging variables
        * Bug #3086: sortRecordSet method fixed
        * Bug #3088: Array datasource staticFetch method fixed
        * Bug #3097: setAutoFill method in HTML renderer fixed
        * Bug #3139: Formatter now allows to use whitespace in callback
        * Bug #3140: Added additional FormBuilder options for the DO datasource
        * Bug #3151: Syntax issue fixed in DataObject record type class
        * Bug #3156: Fixed issue with printing data from last page
        * Bug #3157: Implemented get* for dataobject fetching
        * Bug #3191: Typo with Smarty Renderer
      
        Added getSmarty method for Smarty Renderer to gain access to the rendered Smarty Object.
      </notes>
    </release>
    <release>
      <version>0.6.0</version>
      <date>2004-12-21</date>
      <license>PHP License</license>
      <state>beta</state>
      <notes>
        Initial Beta Release - Beware of many changes to the core API
      
        ********* Warning: You must now instantiate as a reference **********
         
        Implemented new data source layer to handle data manipluation with many
        different data source types such as DB_DataObject, CSV, XML, etc.
        The DataGrid now handles the data fetching, so if you are using
        DataObjects, all you need to do is bind to the dataobject with out
        fetching, the DataGrid will take care of the rest.  Same with a DB_Result
        object, just simply create the result object and bind it to the datagrid.
      
        New Features:
          Automatic GET/POST/Cookie handling for sorting and paging
          Renderers: XUL, CSV, Console Table
          DataSources: DB_Result, DB_DataObject, Array, CSV, XML, RSS
      
        Many Bugfixes included as well:
          Bug #2123: Allows to use db_dataobject extended classes
          Bug #2124: Implement formbuilder options from db_dataobject
          Bug #2125: Allow GET/POST/COOKIE varaibles for sorting to have prefixes
          Bug #2128: Better error handling for setRecord method
          Bug #2438: HTML Renderer better organized with render, toHTML, getTable
                     methods.  Other renderers reflect similiar changes
          Bug #2499: Converted all ampersands to &amp;
          Bug #2501: Implemented a sorting icon indicatior for HTMLTable renderer
      </notes>
    </release>
    <release>
      <version>0.5.3</version>
      <date>2004-08-10</date>
      <license>PHP License</license>
      <state>alpha</state>
      <notes>
        This release is to be the final Alpha release.
        Moved setRendered method from XML renderer to XLS renderer
        Numerous documentation cleanups
      </notes>
    </release>
    <release>
      <version>0.5.2</version>
      <date>2004-08-10</date>
      <license>PHP License</license>
      <state>alpha</state>
      <notes>
        This release is to be the final Alpha release.
        Warning: API Changes!
        Reorganized renderer APIs for HTML_Table, XML, and XLS to allow for a toHTML and a toXML and getSpreadsheet methods.  The render methods now print, and the to* return strings. (Bug #2102)
        Added rendered variable and setRendered methods in Renderer classes (Bertrand)
        Fixed Record Drivers to work with PHP 5 (Bug #1739)
        Moved require statement for the Pager class for more optimization (Bug #2027) 
        Fixed undefined offset warning, again :) (Bug #1545)
        Numerous documentation cleanups
      </notes>
    </release>
    <release>
      <version>0.5.1</version>
      <date>2004-06-25</date>
      <state>alpha</state>
      <notes>
        The &quot;formatter&quot; method in the Column object now supports OO calls (Bug #1584).
        The allowEmptyRows attribute in the column object now has a method.
        The HTML Renderer class methods were modified to allow setting of all attributes instead of hardcoded to individual attributes.
        Fixed notice errors (Bug #1545)
        Added more functionality to working with the Pager object (Bug #1501)
        Fixed Pager class instantiation to work with PHP5 (Bug #1371)
      </notes>
    </release>
    <release>
      <version>0.5</version>
      <date>2004-05-03</date>
      <state>alpha</state>
      <notes>
        Implemented the HTML::pager class into the HTML Table renderer class (Bug 1025)
        The &quot;formatter&quot; method in the Column object is now stable, but still needs more work or rewriting.
        HTML Render method now return HTML instead of echo HTML (Bug 1063)
        Querystring overwriting during sorting is fixed (Bug 1181)
      </notes>
    </release>
    <release>
      <version>0.4.1</version>
      <date>2004-03-16</date>
      <state>alpha</state>
      <notes>
        Implemented name change from &quot;DataGrid&quot; to &quot;Structures_DataGrid&quot;.
        Also removed the link components from the DataGrid_Column.
      </notes>
    </release>
    <release>
      <version>0.4</version>
      <date>2004-03-10</date>
      <state>alpha</state>
      <notes>This is the first public release.</notes>
    </release>
  </changelog>  
</package>
